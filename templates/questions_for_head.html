{% extends "layout.html" %}

{% block title %}
Questions
{% endblock %}

{% block main %}


<table class="table table-striped" style="width: 80%">
<thead>
    <tr>
        <th colspan="3"><h4 style="margin-bottom: 20px;">Должность - {{ positionFromList.0.1 }}</h2></th>
    </tr>
    <tr>
        <th>Компетенция</th>
        <th>Описание компетенции</th>
        <th>Ценность</th>
    </tr>
</thead>
<tbody> <form action="/users" method="post" name="users">
    {% for comp in competence %}
    <tr>         
        <td>{{ comp }}</td>
        <td>Тут текст с описанием компетенции. [INFO] PostgresSQL connection closed
            127.0.0.1 - - [24/Aug/2022 13:52:33] "GET /users HTTP/1.1" 200 -
            127.0.0.1 - - [24/Aug/2022 13:52:33] "GET /static/script.js HTTP/1.1" 200 -
            </td>
        <td>
            <input type="hidden" name="position_pos" value="{{ positionFromList.0.1 }}" >
            <select name="comp_{{ loop.index }}" id="id_{{ loop.index }}" required onchange='check()'>
            <option disabled selected></option>
            {% for i in range(1, 10) %}
            <option >{{ i }}</option>
            {% endfor %} 
            </select>
        </td>
    </tr>{% endfor %}
    <caption><button class="btn btn-primary" type="submit" id="button" onclick="return check()">Нажмите здесь, чтобы перейти к следующей должности.</button></caption></form>
</tbody>
</table> 

<!--
<table class="table table-striped" style="width: auto; caption-side: top">

    {{ positionFromList.0.1 }}</tr>
</thead>
<tbody> <form action="/users" method="post" name="users">
    <tr>
        <td>{{ competence.0 }} </td>
        <td> 
            <input class="form-check-input" type="radio" name="comp_1" id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="1" >1</label>
        </td> 
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1"  >2</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1"  >3</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="4">4</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="5">5</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="6">6</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="7">7</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="8">8</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_1"  id="idd_1" required>
            <label class="form-check-label" for="inlineRadio1" value="9">9</label>
        </td>
    </tr> 
    <tr>
        <td>{{ competence.1 }} </td>
        <td> 
            <input class="form-check-input" type="radio" name="comp_2" id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" >1</label>
        </td> 
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" >2</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" >3</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" value="4">4</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" value="5">5</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" value="6">6</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" value="7">7</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" value="8">8</label>
        </td>
        <td>
            <input class="form-check-input" type="radio" name="comp_2"  id="idd_2" required>
            <label class="form-check-label" for="inlineRadio1" value="9">9</label>
        </td>
    </tr> 
   
    <caption><button class="btn btn-primary" type="submit" id="button" onclick="return check()">Отправить</button></caption></form>
</tbody>
</table>
 -->
<!--            {% for i in range(9) %}
                <input class="form-check-input" type="radio" name="i_{{ loop.index }}" id="inlineRadio1_{{ loop.index }}" value="option1" required>
                <label class="form-check-label" for="inlineRadio1">{{ loop.index }}</label>
                {% endfor %} -->

<!--


    <table class="table table-striped">
        <thead>
            <tr> 
                <th>Должность</th>
                {% for comp in competence %}
                <th>{{ comp }}</th>
                {% endfor %} 
            </tr> 
        </thead>

        <tbody>
            <form action="/users" method="post" name="users">
            <tr>                
                <input type="hidden" name="position_pos" value="{{ positionFromList.0.1 }}">
                <td>{{ positionFromList.0.1 }}</td>

                <td><select name="comp_1" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>

                <td><select name="comp_2" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>

                <td> <select name="comp_3" class="table table-striped" required>
                   <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                    </select></td>

                <td><select name="comp_4" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>

                <td><select name="comp_5" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>
                
                <td><select name="comp_6" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>
                
                <td><select name="comp_7" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>

                <td><select name="comp_8" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>

                <td>
                    <select name="comp_9" class="table table-striped" required>
                    <option disabled selected value="none"></option>
                    {% for i in range(1, 10) %}
                    <option>{{ i }}</option>
                    {% endfor %}
                </select></td>
                <caption><button class="btn btn-primary" type="submit" id="button">Отправить</button></caption>
               
            </form>
            </tr>
        </tbody>
    </table> -->

<script>
    function check() {
        let id = new Array(10);
        let opt = new Array(10);
        for(let i = 1; i < 10; i++){
            id[i] = 'id_' + i;    
            opt[i] = document.getElementById(id[i]).value;
        } 
        let l = opt.length;
        let c = 1;
        while (c < l) {
            for (let b = 1; b < l; b++){
                if (opt[c] === opt[b] && b != c && opt[c] != 0 ){
                    alert('Значение должно быть уникальным');
                    document.getElementById(id[b]).style.border = "1px solid red";
                    document.getElementById(id[c]).style.border = "1px solid red";
                    return false;
                    break;
                }
                else {
                    document.getElementById(id[b]).style.border = "1px solid black";
                    document.getElementById(id[c]).style.border = "1px solid black";
                }
            } 
            c ++;
        }   
        return true;
    }

    /* function check1() {
        let id = new Array(10);
        let opt = new Array(10);
        for(let i = 1; i < 10; i++){
            id[i] = 'idd_' + i;    
            opt[i] = document.getElementById(id[i]).value;
            console.log(opt)
        } 
        let l = opt.length;
        let c = 1;
        while (c < l) {
            for (let b = 1; b < l; b++){
                if (opt[c] === opt[b] ){
                    alert('Значение');
                    document.getElementById(id[b]).style.border = "1px solid red";
                    document.getElementById(id[c]).style.border = "1px solid red";
                    return false;
                    break;
                }
                else {
                    document.getElementById(id[b]).style.border = "1px solid black";
                    document.getElementById(id[c]).style.border = "1px solid black";
                }
            } 
            c ++;
        }   
        return true;
    } */
</script>
    {% endblock %}
